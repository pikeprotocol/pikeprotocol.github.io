(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00b20efc"],{"1c7a":function(t,e,i){"use strict";var s=i("4ad6"),a=i.n(s);a.a},"4ad6":function(t,e,i){},"94b7":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"extract-wrapper"},[i("div",{staticClass:"kong"}),i("div",{staticClass:"mnd"},[i("div",{staticClass:"tit"},[t._v(t._s(t.token.name)+" "+t._s(t.$t("Transfer deposit")))]),i("div",{staticClass:"input-wrapper"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.deposit_amount,expression:"deposit_amount",modifiers:{trim:!0}}],attrs:{placeholder:t.$t("Please enter the deposit amount"),type:"digit"},domProps:{value:t.deposit_amount},on:{input:function(e){e.target.composing||(t.deposit_amount=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),i("div",{staticClass:"infos"},[t._v(" "+t._s(t.$t("Available Balance"))+" "+t._s(t.identity.mine)+" "+t._s(t.token.name)+" ")])]),i("div",{staticClass:"bns",on:{click:function(e){return t.beginDeposit()}}},[t._v(t._s(t.$t("Transfer deposit")))])])},a=[],n=i("2f62"),o={data(){return{deposit_amount:"",gas_fee:"0.00"}},computed:{...Object(n["d"])("i18n",["locale"]),...Object(n["d"])(["web3","contracts"]),...Object(n["d"])("common",["balances","tokens","config","identity"]),token(){var t=this.tokens.find(t=>"PIKE"==t.name);return null==t?{}:t}},watch:{locale(){this.initPage()},identity:{handler(t){this.deposit_amount=t.mine}},token(t){void 0!=t.name&&this.getGas()}},mounted(){this.initPage(),this.identity instanceof Object&&(this.deposit_amount=this.identity.mine),void 0!=this.token.name&&this.getGas()},methods:{initPage(){this.$store.commit("website/SET_PAGE_TITLE",this.$t("Transfer deposit"))},getGas(){var t=this.$toast.loading({forbidClick:!0,duration:0});this.axios.get("/v1/site/deposit-gas",{params:{token:this.token.name}}).then(e=>{t.clear();var i=this.tokens.find(t=>"ETH"==t.name),s=i.price*e.data.gas_fee/this.token.price;this.gas_fee=s.toFixed(6)}).catch(e=>{t.clear()})},beginDeposit(){return""==this.deposit_amount?this.$toast(this.$t("Please enter the deposit amount")):parseFloat(this.deposit_amount)>parseFloat(this.identity.mine)?this.$toast(`${this.$t("Available Balance")} ${this.identity.mine} PIKE`):parseFloat(this.deposit_amount)<parseFloat(this.config.deposit_min_mine)?this.$toast(`${this.$t("Withdrawal cannot be lower than")} ${this.config.deposit_min_mine} PIKE`):parseFloat(this.deposit_amount)<0?this.$toast(this.$t("Amount must be greater than zero")):void this.$dialog.confirm({title:this.$t("Tips"),message:this.$t("This operation requires payment of Oraclize fee {num}{token}",{num:this.gas_fee,token:this.token.name})}).then(t=>{if(parseFloat(this.deposit_amount)<parseFloat(this.gas_fee))return this.$toast(this.$t("Your balance is insufficient"));this.deposit()}).catch(t=>{})},deposit(){var t=this.$toast.loading({forbidClick:!0,duration:0});this.axios.post("/v1/chain/deposit-mine",{amount:this.deposit_amount}).then(e=>{t.clear(),1==e.data.success&&this.$root.initData(),this.$dialog.alert({title:this.$t("Tips"),message:e.data.message})}).catch(e=>{t.clear()})}}},r=o,d=(i("1c7a"),i("2877")),c=Object(d["a"])(r,s,a,!1,null,null,null);e["default"]=c.exports}}]);