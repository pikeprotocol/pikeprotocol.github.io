(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29cfb7fa"],{"4bfe":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"vote-wrapper"},[e("div",{staticClass:"panel-list"},[e("div",{staticClass:"panel-list-body"},[e("div",{staticClass:"body-l heights"},[e("div",{staticClass:"name"},[t._v(t._s(t.$t("Voting weight")))]),e("div",{staticClass:"mnd"},[t._v(t._s(t.data.vote_weight))])]),e("div",{staticClass:"body-l"},[e("div",{staticClass:"name"},[t._v(t._s(t.$t("Processing")))]),e("div",{staticClass:"mnd"},[t._v(t._s(t.data.vote_active))])]),e("div",{staticClass:"body-l"},[e("div",{staticClass:"name"},[t._v(t._s(t.$t("Executed")))]),e("div",{staticClass:"mnd"},[t._v(t._s(t.data.vote_executed))])])])]),e("div",{staticClass:"dropdown-wrapper"},[e("van-dropdown-menu",[e("van-dropdown-item",{ref:"item",attrs:{title:t.value1}},t._l(t.options,(function(s,i){return e("van-cell",{key:i,attrs:{center:"",title:s.text},on:{click:function(e){return t.clickCenter(s)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("span",{staticClass:"icon",style:"background-color:"+s.color})]},proxy:!0}],null,!0)})})),1)],1)],1),e("van-list",{attrs:{finished:t.finished,"finished-text":t.$t("No more")},on:{load:t.onLoad},model:{value:t.loading,callback:function(s){t.loading=s},expression:"loading"}},t._l(t.items,(function(s,i){return e("div",{key:i,staticClass:"list-dd",on:{click:function(e){return t.detail(s)}}},[e("div",{staticClass:"list-dd-title"},[t._v(t._s(s.title))]),e("div",{staticClass:"list-dd-content"},[e("div",{staticClass:"btn end",style:{background:s.color}},[t._v(t._s(s.status))]),e("div",{staticClass:"text"},[t._v("ID: "+t._s(s.index))]),e("div",{staticClass:"count"},[e("van-count-down",{attrs:{time:s.countdown,format:t.$t("DD 天 HH 时 mm 分 ss 秒")}})],1)]),e("div",{staticClass:"progree"},[e("div",{style:{width:s.vote.rate.agree,background:"#8cc689"},attrs:{"v-tip":t.$t("Favor of {num}",{num:s.vote.rate.agree})}}),e("div",{style:{left:s.vote.rate.agree,width:s.vote.rate.oppose,background:"#ff6600"},attrs:{"v-tip":t.$t("Against {num}",{num:s.vote.rate.oppose})}})])])})),0)],1)},a=[],n=e("2f62"),o={data(){return{value1:"",status:null,options:[],items:[],data:{},loading:!1,finished:!1,currentPage:1}},computed:{...Object(n["d"])("i18n",["locale"])},watch:{locale:{handler(t){this.onCancel(),this.initPage()}}},mounted(){this.initPage()},methods:{initPage(){this.$store.commit("website/SET_PAGE_TITLE",this.$t("Vote")),this.value1=this.$t("All Vote"),this.options=[{text:this.$t("All Vote"),value:null,color:""},{text:this.$t("Voting"),value:0,color:"#8cc689"},{text:this.$t("Executing"),value:1,color:"#ff6600"},{text:this.$t("Executed"),value:2,color:"#0686ef"},{text:this.$t("Dropping"),value:3,color:"#999999"}]},onSearch(t){this.items=[],this.address=t,this.onLoad()},onCancel(){this.items=[],this.address=null,this.onLoad()},clickCenter(t){this.value1=t.text,this.status=t.value,this.onConfirm(),this.onSearch()},onConfirm(){this.$refs.item.toggle()},onLoad(){this.axios.get("/v1/site/vote-list",{params:{perPage:10,page:this.currentPage,"VoteSearch[status]":this.status}}).then(t=>{this.data=t.data,this.items=this.items.concat(t.data.votes.items),this.loading=!1,this.currentPage>=t.data.votes._meta.pageCount?this.finished=!0:this.currentPage++}).catch(t=>{this.loading=!1})},detail(t){this.$router.push({path:"/vote/deatil",query:{id:t.id}})}}},l=o,c=(e("d19f"),e("2877")),d=Object(c["a"])(l,i,a,!1,null,null,null);s["default"]=d.exports},d19f:function(t,s,e){"use strict";var i=e("e1c8"),a=e.n(i);a.a},e1c8:function(t,s,e){}}]);